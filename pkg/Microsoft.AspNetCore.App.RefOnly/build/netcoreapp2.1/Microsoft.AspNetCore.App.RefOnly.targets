<Project>
  <PropertyGroup>
    <MicrosoftNETPlatformLibrary>Microsoft.AspNetCore.App.RefOnly</MicrosoftNETPlatformLibrary>
  </PropertyGroup>

  <Target Name="EnsureTFMCompatibility" BeforeTargets="_CheckForInvalidConfigurationAndPlatform">
    <Error
      Text="This version of Microsoft.AspNetCore.App is only compatible with the netcoreapp2.1 target framework. Please target netcoreapp2.1 or choose a version of Microsoft.AspNetCore.App compatible with $(TargetFramework)."
      Condition="'$(TargetFramework)' != 'netcoreapp2.1'"/>
  </Target>
</Project>
